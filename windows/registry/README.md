# Windowsのキーボードレイアウト変更

## レジストリの設定ルール

A というキーを B というキーに変更する場合（スキャンコードはそれぞれ `0x00aa`、`0x00bb`とします）、次のような手順で DWORD 値を作りましょう。

1. A のスキャンコードを調べる
1. B のスキャンコードを調べる
1. A のスキャンコード、B のスキャンコードの順に並べる（`0x00aa00bb`）
1. 並べた値を、1 byte ごとに逆に並べ替える（`0xbb00aa00`）

Scancode Map値はDWORD値(リトルエンディアン)のシーケンスから成ります。以下の構造を持ちます。

1. `0x0000`固定です。
2. `0x0000`固定です。
3. 続くDWORD値が何個続くかを指定します。(マッピングが1個ならば、終端の`0x0000`を含めて個数は`0x00000002`、すなわち`02,00,00,00`と指定します。)
4. マッピングDWORD値を並べます。
5. `0x0000`固定です。

## スキャンコード(scancode)の特定

### 

- CapsLockキーを左Ctrlに
  - DWORD値 `0x003a001d`
  - Scancode Map `1d,00,3a,00`
- 変換キー`0x7b`を左Alt`0x38`に
  - DWORD値 `0x007b0038`
  - Scancode Map `38,00,7b,00`
- 無変換キー`0x79`を右Alt`0xe038`に
  - DWORD値 `0x0079e038`
  - Scancode Map `38,e0,79,00`
- ひらがな/カタカナキー(0x70)を右Ctrl`0xe01d`に
  - DWORD値 `0x0070e01d`
  - Scancode Map `1d,e0,70,00`
